<template>
    <div class="container">
        <h1>My Opportunities</h1>

        <button md-button click.delegate="addOpportunity()">
            <i class="material-icons">note_add</i>
            Create New Opportunity</button>

        <ul md-collapsible="accordion: true; popout: true;">
            <li repeat.for="opp of opportunities">
                <div class="collapsible-header">
                    <div class="left">
                        <icon name.bind="getIconName(opp)" size="48px" colour="#b71c1c"></icon>
                    </div>
                    <div class="valign">${opp.title}

                        <div class="right">
                            <a md-button="floating:true;" md-wave md-tooltip="position:bottom;text:Edit" href.bind="getDetailsLink(opp.id)">
                                <i class="material-icons">mode_edit</i>
                            </a>
                            <a href.bind="generateApplicationsLink(opp.id)" md-button="floating:true;" md-wave md-tooltip="position:bottom;text:View Applications">
                                <i class="material-icons">description</i>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="collapsible-body">
                    <blockquote>${opp.description}</blockquote>
                    Applications open from ${opp.startDate|dateFormatter} to ${opp.endDate|dateFormatter}<br> Successful
                    Applications: ${opp.successfulCount} of ${opp.applicationCount}
                </div>
            </li>
        </ul>
    </div>
</template>